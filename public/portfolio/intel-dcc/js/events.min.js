!function(){"use strict";IntelDCC.api={},IntelDCC.api.events=[],IntelDCC.events={},$(document).ready(function(){IntelDCC.events.eventListeners(),IntelDCC.events.downloadData()}),IntelDCC.events.eventListeners=function(){$("#event-list").on("click","[data-delete-event]",function(){IntelDCC.events.deleteEvent(this)})},IntelDCC.events.downloadData=function(){$("#intel-api-loading-icon").show(),$.post("api/get-events.php",function(e){IntelDCC.api.events=e;var t=$("#event-list");IntelDCC.api.events.forEach(function(e){t.append('<div class="standard-list__item standard-list__item--flex" data-event-setting-id="'+e.id+'"><a href="edit-event.php?event-id='+e.id+'" title="'+e.eventComment+'">'+e.eventName+'</a><input type="button" class="icon-button icon-button--close icon-button--no-margin" data-delete-event></div>')}),$("#intel-api-loading-icon").hide()})},IntelDCC.events.deleteEvent=function(e){var t=$(e).closest("[data-event-setting-id]"),n=$(t).attr("data-event-setting-id");confirm("Are you sure you want to delete this event?")&&($("#intel-api-loading-icon").show(),$(e).attr("disabled","disabled"),$.post("api/delete-event-settings.php",{eventID:n},function(e){t.remove(),IntelDCC.scrollTo(0),$("#intel-api-loading-icon").hide();var n=$("#page-notification");n.addClass("page-notification--show"),setTimeout(function(){n.removeClass("page-notification--show")},4e3)}))}}();